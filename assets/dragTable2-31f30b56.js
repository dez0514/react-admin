import{u as b,d as h,r as f,j as a,P as j,n as w,S as y,B as g,aj as D}from"./index-e38a95ae.js";import{D as I,C,P as T}from"./react-beautiful-dnd.esm-b89d5c46.js";import{T as P}from"./typingCard-feff0ad1.js";function k(){const{formatMessage:m}=b();h(m({id:"menu.components.dragTable2"}));const p=(l,n=0)=>Array.from({length:l},(e,r)=>r).map(e=>({id:`item-${e+n}-${new Date().getTime()}`,title:`item ${e+n}`})),[c,d]=f.useState([p(10),p(5,10)]),x=l=>{console.log("result===",l);const{source:n,destination:t}=l;if(!t)return;const e=+n.droppableId,r=+t.droppableId;if(e===r){const o=D(c[e],n.index,t.index),s=[...c];s[e]=o,d(s)}else{const o=u(c[e],c[r],n,t),s=[...c];s[e]=o[e],s[r]=o[r],d(s.filter(i=>i.length))}},u=(l,n,t,e)=>{const r=Array.from(l),o=Array.from(n),[s]=r.splice(t.index,1);o.splice(e.index,0,s);const i={};return i[t.droppableId]=r,i[e.droppableId]=o,i};return a.jsxs(j,{children:[a.jsx(P,{title:"拖拽列表",source:"可能会遇到的复杂场景demo"}),a.jsxs(w,{title:"多列",className:"tw-mt-[20px]",children:[a.jsxs(y,{children:[a.jsx(g,{type:"primary",onClick:()=>{d([...c,[]])},children:"新增一空列"}),a.jsx(g,{type:"primary",onClick:()=>{d([...c,p(1)])},children:"新增一列"})]}),a.jsx("div",{className:"tw-overflow-auto tw-h-[400px] tw-mt-[8px]",children:a.jsx(I,{onDragEnd:x,children:a.jsx("div",{className:"tw-flex",children:c.map((l,n)=>a.jsx(C,{droppableId:`${n}`,children:(t,e)=>a.jsxs("div",{className:"tw-mr-[8px] tw-w-[120px]",ref:t.innerRef,...t.droppableProps,style:{background:e.isDraggingOver?"lightblue":"lightgrey"},children:[l==null?void 0:l.map((r,o)=>a.jsx(T,{draggableId:r.id,index:o,children:(s,i)=>a.jsx("div",{className:"tw-select-none tw-p-[16px] tw-mb-[8px]",ref:s.innerRef,...s.draggableProps,...s.dragHandleProps,style:{background:i.isDragging?"lightgreen":"grey",...s.draggableProps.style},children:r.title})},r.id)),t.placeholder]})},n))})})})]})]})}export{k as default};
