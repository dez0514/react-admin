import{r as b,j as t,P as h,b as u,S as w,B as g,bq as f}from"./index-2c159d48.js";import{D as j,C as y,P as D}from"./react-beautiful-dnd.esm-db827d73.js";import{T as I}from"./typingCard-fb43cdb2.js";function N(){const p=(l,n=0)=>Array.from({length:l},(e,r)=>r).map(e=>({id:`item-${e+n}-${new Date().getTime()}`,title:`item ${e+n}`})),[c,d]=b.useState([p(10),p(5,10)]),m=l=>{console.log("result===",l);const{source:n,destination:a}=l;if(!a)return;const e=+n.droppableId,r=+a.droppableId;if(e===r){const o=f(c[e],n.index,a.index),s=[...c];s[e]=o,d(s)}else{const o=x(c[e],c[r],n,a),s=[...c];s[e]=o[e],s[r]=o[r],d(s.filter(i=>i.length))}},x=(l,n,a,e)=>{const r=Array.from(l),o=Array.from(n),[s]=r.splice(a.index,1);o.splice(e.index,0,s);const i={};return i[a.droppableId]=r,i[e.droppableId]=o,i};return t.jsxs(h,{children:[t.jsx(I,{title:"拖拽列表",source:"可能会遇到的复杂场景demo"}),t.jsxs(u,{title:"多列",className:"tw-mt-[20px]",children:[t.jsxs(w,{children:[t.jsx(g,{type:"primary",onClick:()=>{d([...c,[]])},children:"新增一空列"}),t.jsx(g,{type:"primary",onClick:()=>{d([...c,p(1)])},children:"新增一列"})]}),t.jsx("div",{className:"tw-overflow-auto tw-h-[400px] tw-mt-[8px]",children:t.jsx(j,{onDragEnd:m,children:t.jsx("div",{className:"tw-flex",children:c.map((l,n)=>t.jsx(y,{droppableId:`${n}`,children:(a,e)=>t.jsxs("div",{className:"tw-mr-[8px] tw-w-[120px]",ref:a.innerRef,...a.droppableProps,style:{background:e.isDraggingOver?"lightblue":"lightgrey"},children:[l==null?void 0:l.map((r,o)=>t.jsx(D,{draggableId:r.id,index:o,children:(s,i)=>t.jsx("div",{className:"tw-select-none tw-p-[16px] tw-mb-[8px]",ref:s.innerRef,...s.draggableProps,...s.dragHandleProps,style:{background:i.isDragging?"lightgreen":"grey",...s.draggableProps.style},children:r.title})},r.id)),a.placeholder]})},n))})})})]})]})}export{N as default};
