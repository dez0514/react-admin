import{r as i,A as j,_ as h,d as y,j as e,P as z,l as u,I as w,at as I,B as _,T as Z,y as b,aw as D}from"./index-d8aefe4d.js";import{g as T}from"./table-6ec707d2.js";import{D as F}from"./index-a13a1890.js";var O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M296 392h64v64h-64zm0 190v160h128V582h-64v-62h-64v62zm80 48v64h-32v-64h32zm-16-302h64v64h-64zm-64-64h64v64h-64zm64 192h64v64h-64zm0-256h64v64h-64zm494.6 88.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h64v64h64v-64h174v216a42 42 0 0042 42h216v494z"}}]},name:"file-zip",theme:"outlined"};const S=O;var m=function(s,d){return i.createElement(j,h(h({},s),{},{ref:d,icon:S}))};m.displayName="FileZipOutlined";const k=i.forwardRef(m),{Item:p}=u,V=[{title:"Id",dataIndex:"id",key:"id",width:200,align:"center"},{title:"Title",dataIndex:"title",key:"title",width:200,align:"center"},{title:"Author",key:"author",dataIndex:"author",width:100,align:"center",render:a=>e.jsx(b,{children:a},a)},{title:"Readings",dataIndex:"readings",key:"readings",width:195,align:"center"},{title:"Date",dataIndex:"date",key:"date",width:195,align:"center"}],P=()=>{y("Zip");const[a,s]=i.useState(""),[d,o]=i.useState(!1),[c,g]=i.useState([]),x=()=>{T().then(t=>{if(t.code===0){const n=t.data.map((r,l)=>({...r,key:String(l)}));g(n)}})};i.useEffect(()=>{x()},[]);const v=()=>{D(()=>import("./Export2Zip-1fe732a8.js"),["assets/Export2Zip-1fe732a8.js","assets/FileSaver.min-4a0ceef1.js","assets/index-d8aefe4d.js","assets/index-394a82ac.css"]).then(t=>{o(!0);const n=["Id","Title","Author","Readings","Date"],l=f(["id","title","author","readings","date"],c);t.export_txt_to_zip(n,l,a,a),o(!1)})},f=(t,n)=>n.map(r=>t.map(l=>r[l]));return e.jsxs(z,{children:[e.jsxs(u,{layout:"inline",children:[e.jsx(p,{label:"文件名:",children:e.jsx(w,{style:{width:"250px"},prefix:e.jsx(I,{style:{color:"rgba(0,0,0,.25)"}}),value:a,placeholder:"请输入文件名(默认file)",onChange:t=>s(t.target.value)})}),e.jsx(p,{children:e.jsx(_,{type:"primary",icon:e.jsx(k,{}),onClick:v,children:"导出Zip"})})]}),e.jsx(F,{}),e.jsx(Z,{bordered:!0,size:"small",columns:V,rowKey:t=>t.id,dataSource:c,pagination:{pageSize:10},loading:d})]})};export{P as default};
