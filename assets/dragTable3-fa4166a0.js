import{r as x,j as i,b as w}from"./index-37781033.js";import{D as I,C as u,P as b}from"./react-beautiful-dnd.esm-8c1ba99f.js";import{P as j}from"./page-62d8c030.js";import{T as D}from"./typingCard-df76f534.js";let m;const P=new Uint8Array(16);function U(){if(!m&&(m=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!m))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return m(P)}const n=[];for(let e=0;e<256;++e)n.push((e+256).toString(16).slice(1));function R(e,t=0){return(n[e[t+0]]+n[e[t+1]]+n[e[t+2]]+n[e[t+3]]+"-"+n[e[t+4]]+n[e[t+5]]+"-"+n[e[t+6]]+n[e[t+7]]+"-"+n[e[t+8]]+n[e[t+9]]+"-"+n[e[t+10]]+n[e[t+11]]+n[e[t+12]]+n[e[t+13]]+n[e[t+14]]+n[e[t+15]]).toLowerCase()}const N=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),y={randomUUID:N};function h(e,t,a){if(y.randomUUID&&!t&&!e)return y.randomUUID();e=e||{};const o=e.random||(e.rng||U)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){a=a||0;for(let p=0;p<16;++p)t[a+p]=o[p];return t}return R(o)}function v(){const[e,t]=x.useState([{id:"item1",title:"Item 1"},{id:"item2",title:"Item 2"},{id:"item3",title:"Item 3"},{id:"item4",title:"Item 4"}]),[a,o]=x.useState([{id:"item5",title:"Item 5"}]),p=c=>{const{source:s,destination:l,draggableId:g}=c;if(l){if(s.droppableId!==l.droppableId){if(s.droppableId==="list1"){const r=e.find(d=>d.id===g);o([...a,{...r,id:h()}])}else if(s.droppableId==="list2"){const r=a.find(d=>d.id===g);t([...e,{...r,id:h()}])}}else if(s.droppableId==="list1"){const r=Array.from(e),[d]=r.splice(s.index,1);r.splice(l.index,0,d),t(r)}else if(s.droppableId==="list2"){const r=Array.from(a),[d]=r.splice(s.index,1);r.splice(l.index,0,d),o(r)}}};return i.jsxs(j,{children:[i.jsx(D,{title:"拖拽列表",source:"todo: 文档没找全，复制有待完善，拖拽时应该复制一个元素拖,而不会从原表中干掉拖动元素"}),i.jsx(w,{title:"复制",className:"tw-mt-[20px]",children:i.jsx("div",{className:"tw-overflow-auto tw-h-[400px] tw-mt-[8px]",children:i.jsx(I,{onDragEnd:p,children:i.jsxs("div",{className:"tw-flex",children:[i.jsx(u,{droppableId:"list1",children:(c,s)=>i.jsxs("div",{className:"tw-mr-[8px] tw-w-[120px]",ref:c.innerRef,...c.droppableProps,style:{background:s.isDraggingOver?"lightblue":"lightgrey"},children:[e==null?void 0:e.map((l,g)=>i.jsx(b,{draggableId:l.id,index:g,children:(r,d)=>i.jsx("div",{className:"tw-select-none tw-p-[16px] tw-mb-[8px]",ref:r.innerRef,...r.draggableProps,...r.dragHandleProps,style:{background:d.isDragging?"lightgreen":"grey",...r.draggableProps.style},children:l.title})},l.id)),c.placeholder]})}),i.jsx(u,{droppableId:"list2",children:(c,s)=>i.jsxs("div",{className:"tw-mr-[8px] tw-w-[120px]",ref:c.innerRef,...c.droppableProps,style:{background:s.isDraggingOver?"lightblue":"lightgrey"},children:[a==null?void 0:a.map((l,g)=>i.jsx(b,{draggableId:l.id,index:g,children:(r,d)=>i.jsx("div",{className:"tw-select-none tw-p-[16px] tw-mb-[8px]",ref:r.innerRef,...r.draggableProps,...r.dragHandleProps,style:{background:d.isDragging?"lightgreen":"grey",...r.draggableProps.style},children:l.title})},l.id)),c.placeholder]})})]})})})})]})}export{v as default};
