import{r as x,j as i,P as w,l as I}from"./index-33fc2628.js";import{D as j,C as u,P as b}from"./react-beautiful-dnd.esm-972055c5.js";import{T as D}from"./typingCard-7f981ed0.js";let m;const P=new Uint8Array(16);function U(){if(!m&&(m=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!m))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return m(P)}const r=[];for(let e=0;e<256;++e)r.push((e+256).toString(16).slice(1));function R(e,t=0){return(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase()}const N=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),y={randomUUID:N};function h(e,t,a){if(y.randomUUID&&!t&&!e)return y.randomUUID();e=e||{};const o=e.random||(e.rng||U)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){a=a||0;for(let p=0;p<16;++p)t[a+p]=o[p];return t}return R(o)}function k(){const[e,t]=x.useState([{id:"item1",title:"Item 1"},{id:"item2",title:"Item 2"},{id:"item3",title:"Item 3"},{id:"item4",title:"Item 4"}]),[a,o]=x.useState([{id:"item5",title:"Item 5"}]),p=c=>{const{source:s,destination:l,draggableId:g}=c;if(l){if(s.droppableId!==l.droppableId){if(s.droppableId==="list1"){const n=e.find(d=>d.id===g);o([...a,{...n,id:h()}])}else if(s.droppableId==="list2"){const n=a.find(d=>d.id===g);t([...e,{...n,id:h()}])}}else if(s.droppableId==="list1"){const n=Array.from(e),[d]=n.splice(s.index,1);n.splice(l.index,0,d),t(n)}else if(s.droppableId==="list2"){const n=Array.from(a),[d]=n.splice(s.index,1);n.splice(l.index,0,d),o(n)}}};return i.jsxs(w,{children:[i.jsx(D,{title:"拖拽列表",source:"todo: 文档没找全，复制有待完善，拖拽时应该复制一个元素拖,而不会从原表中干掉拖动元素"}),i.jsx(I,{title:"复制",className:"tw-mt-[20px]",children:i.jsx("div",{className:"tw-overflow-auto tw-h-[400px] tw-mt-[8px]",children:i.jsx(j,{onDragEnd:p,children:i.jsxs("div",{className:"tw-flex",children:[i.jsx(u,{droppableId:"list1",children:(c,s)=>i.jsxs("div",{className:"tw-mr-[8px] tw-w-[120px]",ref:c.innerRef,...c.droppableProps,style:{background:s.isDraggingOver?"lightblue":"lightgrey"},children:[e==null?void 0:e.map((l,g)=>i.jsx(b,{draggableId:l.id,index:g,children:(n,d)=>i.jsx("div",{className:"tw-select-none tw-p-[16px] tw-mb-[8px]",ref:n.innerRef,...n.draggableProps,...n.dragHandleProps,style:{background:d.isDragging?"lightgreen":"grey",...n.draggableProps.style},children:l.title})},l.id)),c.placeholder]})}),i.jsx(u,{droppableId:"list2",children:(c,s)=>i.jsxs("div",{className:"tw-mr-[8px] tw-w-[120px]",ref:c.innerRef,...c.droppableProps,style:{background:s.isDraggingOver?"lightblue":"lightgrey"},children:[a==null?void 0:a.map((l,g)=>i.jsx(b,{draggableId:l.id,index:g,children:(n,d)=>i.jsx("div",{className:"tw-select-none tw-p-[16px] tw-mb-[8px]",ref:n.innerRef,...n.draggableProps,...n.dragHandleProps,style:{background:d.isDragging?"lightgreen":"grey",...n.draggableProps.style},children:l.title})},l.id)),c.placeholder]})})]})})})})]})}export{k as default};
